!function(e,n){if("function"==typeof define&&define.amd)define(["ScrollMagic","gsap","TweenMax","TimelineMax"],n);else if("object"==typeof exports){var o=require("gsap/dist/gsap")||require("gsap");n(require("scrollmagic"),o,TweenMax||o,TimelineMax||o)}else n(e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic,e.gsap,e.gsap||e.TweenMax||e.TweenLite,e.gsap||e.TimelineMax||e.TimelineLite)}(this,function(e,n,o,t){"use strict";var r=n&&parseFloat(n.version)>=3,i=window.console||{},a=Function.prototype.bind.call(i.error||i.log||function(){},i);e||a("(animation.gsap) -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs."),o||a("(animation.gsap) -> ERROR: TweenLite or TweenMax could not be found. Please make sure GSAP is loaded before ScrollMagic or use an asynchronous loader like requirejs."),e.Scene.addOption("tweenChanges",!1,function(e){return!!e}),e.Scene.extend(function(){var e,n=this,i=function(){n._log&&(Array.prototype.splice.call(arguments,1,0,"(animation.gsap)","->"),n._log.apply(this,arguments))};n.on("progress.plugin_gsap",function(){a()}),n.on("destroy.plugin_gsap",function(e){n.removeTween(e.reset)});var a=function(){if(e){var o=n.progress(),t=n.state();e.repeat&&-1===e.repeat()?"DURING"===t&&e.paused()?e.play():"DURING"===t||e.paused()||e.pause():o!=e.progress()&&(0===n.duration()?o>0?e.play():e.reverse():n.tweenChanges()&&e.tweenTo?e.tweenTo(o*e.duration()):e.progress(o).pause())}};n.setTween=function(s,l,u){var p;if(arguments.length>1){var c="number"==typeof arguments[1];r?(c||(u=l),u.hasOwnProperty("duration")||(u.duration=c?l:1)):arguments.length<3&&(u=l,l=1),s=r?o.to(s,u):o.to(s,l,u)}try{(p=t&&!r?new t({smoothChildTiming:!0}).add(s):s).pause()}catch(e){return i(1,"ERROR calling method 'setTween()': Supplied argument is not a valid TweenObject"),n}if(e&&n.removeTween(),e=p,s.repeat&&-1===s.repeat()&&(e.repeat(-1),e.yoyo(s.yoyo())),n.tweenChanges()&&!e.tweenTo&&i(2,"WARNING: tweenChanges will only work if the TimelineMax object is available for ScrollMagic."),e&&n.controller()&&n.triggerElement()&&n.loglevel()>=2){var g=o.getTweensOf(n.triggerElement()),d=n.controller().info("vertical");g.forEach(function(e,n){var o=e.vars.css||e.vars;if(d?void 0!==o.top||void 0!==o.bottom:void 0!==o.left||void 0!==o.right)return i(2,"WARNING: Tweening the position of the trigger element affects the scene timing and should be avoided!"),!1})}if(parseFloat(TweenLite.version)>=1.14)for(var f,w,h=r?"onInterrupt":"onOverwrite",v=e.getChildren?e.getChildren(!0,!0,!1):[e],m=function(){i(2,"WARNING: tween was overwritten by another. To learn how to avoid this issue see here: https://github.com/janpaepke/ScrollMagic/wiki/WARNING:-tween-was-overwritten-by-another")},T=0;T<v.length;T++)f=v[T],w!==m&&(w=f.vars[h],f.vars[h]=function(){w&&w.apply(this,arguments),m.apply(this,arguments)});return i(3,"added tween"),a(),n},n.removeTween=function(o){return e&&(o&&e.progress(0).pause(),e.kill(),e=void 0,i(3,"removed tween (reset: "+(o?"true":"false")+")")),n}})});